---
title: 'Crea Tus Flujos de Automatizaci√≥n: Despliega Tu Propio Servidor de N8N en Heroku con Persistencia de Datos'
date: '2025-10-22'
image: '/blog/n8n-heroku.png'
description: 'Crea flujos de automatizaci√≥n ilimitados con tu propio servidor N8N. Gu√≠a completa para desplegar en Heroku con Supabase PostgreSQL y persistencia de datos. Solo $7/mes. ‚úì Self-hosted ‚úì Sin l√≠mites.'
tags: ['N8N', 'Heroku', 'Supabase', 'Docker', 'Automatizaci√≥n', 'DevOps', 'PostgreSQL', 'Self-Hosted', 'Tutorial']
author: 'Juan Montoya'
keywords: 'n8n heroku, desplegar n8n, servidor n8n, n8n supabase, n8n docker heroku, n8n self hosted, n8n tutorial espa√±ol, automatizaci√≥n workflows, crear flujos automatizaci√≥n, persistencia datos n8n, heroku postgresql, n8n cloud alternativa'
canonical: 'https://tudominio.com/blog/posts/desplegar-n8n-heroku-supabase'
---

import BlogPost from '../../../components/BlogPost';

<BlogPost
  title="Crea Tus Flujos de Automatizaci√≥n: Despliega Tu Propio Servidor de N8N en Heroku con Persistencia de Datos"
  date="22 de octubre de 2025"
  image="/blog/n8n-heroku.png"
  description="Crea flujos de automatizaci√≥n ilimitados con tu propio servidor N8N. Gu√≠a completa para desplegar en Heroku con Supabase PostgreSQL y persistencia de datos. Solo $7/mes. ‚úì Self-hosted ‚úì Sin l√≠mites."
>

## Introducci√≥n: N8N Self-Hosted en Heroku

¬øTe imaginas tener tu propia plataforma de automatizaci√≥n sin las limitaciones de las soluciones en la nube? **N8N** es una poderosa herramienta de c√≥digo abierto que te permite crear flujos de trabajo automatizados conectando diferentes aplicaciones y servicios, todo esto sin escribir una sola l√≠nea de c√≥digo. Piensa en ello como tener tu propio **Zapier** o **Make.com**, pero con la ventaja de mantener el control total sobre tu infraestructura y datos.

En esta gu√≠a pr√°ctica y completa para 2025, te mostrar√© paso a paso c√≥mo **desplegar tu propio servidor N8N en Heroku**, utilizando **Supabase** como base de datos **PostgreSQL** para garantizar que todos tus workflows, credenciales y ejecuciones se almacenen de forma persistente y segura. Lo mejor de todo es que esta soluci√≥n self-hosted es **escalable, econ√≥mica (desde $7/mes)** y sorprendentemente f√°cil de mantener.

### Lo que aprender√°s en esta gu√≠a

<div className="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-6 my-6 border border-blue-200 dark:border-blue-700">
  <ul className="space-y-2 text-gray-800 dark:text-gray-200">
    <li>‚úÖ Configurar base de datos PostgreSQL en Supabase con Transaction Pooler</li>
    <li>‚úÖ Desplegar N8N usando Docker en Heroku con persistencia de datos</li>
    <li>‚úÖ Configurar variables de entorno y seguridad (SSL, encryption key)</li>
    <li>‚úÖ Implementar autenticaci√≥n b√°sica para proteger tu instalaci√≥n</li>
    <li>‚úÖ Comparaci√≥n detallada: Self-Hosted vs N8N Cloud Starter</li>
    <li>‚úÖ Soluci√≥n de problemas comunes de conectividad IPv6</li>
  </ul>
</div>

**Tiempo estimado:** 30-45 minutos | **Costo mensual:** $7 USD | **Nivel:** Intermedio

---

## üìã √çndice de Contenidos

<div className="bg-white dark:bg-gray-800 rounded-lg p-6 my-6 border-2 border-blue-200 dark:border-blue-700">
  <nav className="space-y-2">
    <div className="font-semibold text-blue-600 dark:text-blue-400 mb-3">En esta gu√≠a completa aprender√°s:</div>
    <ol className="space-y-1.5 text-gray-700 dark:text-gray-300">
      <li>1Ô∏è‚É£ <a href="#paso-1-configurar-postgresql-en-supabase-para-n8n" className="hover:text-blue-600 dark:hover:text-blue-400">Configurar PostgreSQL en Supabase</a></li>
      <li>2Ô∏è‚É£ <a href="#paso-2-crear-aplicaci√≥n-n8n-en-heroku-con-docker" className="hover:text-blue-600 dark:hover:text-blue-400">Crear aplicaci√≥n N8N en Heroku</a></li>
      <li>3Ô∏è‚É£ <a href="#paso-3-configurar-variables-de-entorno-para-n8n" className="hover:text-blue-600 dark:hover:text-blue-400">Configurar variables de entorno</a></li>
      <li>4Ô∏è‚É£ <a href="#paso-4-crear-archivos-docker-para-n8n-dockerfile-entrypointsh" className="hover:text-blue-600 dark:hover:text-blue-400">Crear Dockerfile y entrypoint.sh</a></li>
      <li>5Ô∏è‚É£ <a href="#paso-5-desplegar-en-heroku" className="hover:text-blue-600 dark:hover:text-blue-400">Desplegar en Heroku con Git</a></li>
      <li>6Ô∏è‚É£ <a href="#paso-6-gesti√≥n-de-la-aplicaci√≥n" className="hover:text-blue-600 dark:hover:text-blue-400">Gestionar tu aplicaci√≥n N8N</a></li>
      <li>7Ô∏è‚É£ <a href="#paso-7-verificaci√≥n-y-primeros-pasos" className="hover:text-blue-600 dark:hover:text-blue-400">Verificar instalaci√≥n y primeros workflows</a></li>
      <li>üí∞ <a href="#self-hosted-vs-n8n-cloud-comparaci√≥n-de-costos" className="hover:text-blue-600 dark:hover:text-blue-400">Comparaci√≥n: Self-Hosted vs N8N Cloud</a></li>
      <li>üõ†Ô∏è <a href="#soluci√≥n-de-problemas-comunes" className="hover:text-blue-600 dark:hover:text-blue-400">Soluci√≥n de problemas comunes</a></li>
    </ol>
  </nav>
</div>

---

## ¬øPor qu√© Elegir la Combinaci√≥n N8N + Heroku + Supabase?

Si est√°s buscando una soluci√≥n de self-hosting profesional y accesible, esta combinaci√≥n de **N8N + Heroku + Supabase** se ha consolidado como una de las mejores alternativas en 2025. Pero, ¬øqu√© la hace tan especial?

<div className="bg-blue-50 dark:bg-blue-900/30 rounded-lg p-6 my-6">
  <ul className="space-y-3">
    <li className="flex items-start">
      <span className="bg-blue-500 p-1 rounded-full mr-3 mt-1">
        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
        </svg>
      </span>
      <div><strong>Heroku PaaS:</strong> Plataforma como servicio que simplifica el despliegue de contenedores Docker sin gestionar servidores</div>
    </li>
    <li className="flex items-start">
      <span className="bg-blue-500 p-1 rounded-full mr-3 mt-1">
        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
        </svg>
      </span>
      <div><strong>Supabase PostgreSQL:</strong> Base de datos gestionada con plan gratuito (500MB) y Transaction Pooler para alta disponibilidad</div>
    </li>
    <li className="flex items-start">
      <span className="bg-blue-500 p-1 rounded-full mr-3 mt-1">
        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
        </svg>
      </span>
      <div><strong>Persistencia total:</strong> Todos tus workflows, credenciales y ejecuciones se guardan de forma segura en PostgreSQL</div>
    </li>
    <li className="flex items-start">
      <span className="bg-blue-500 p-1 rounded-full mr-3 mt-1">
        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
        </svg>
      </span>
      <div><strong>Escalabilidad:</strong> F√°cil de escalar seg√∫n tus necesidades sin cambiar infraestructura</div>
    </li>
    <li className="flex items-start">
      <span className="bg-blue-500 p-1 rounded-full mr-3 mt-1">
        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
        </svg>
      </span>
      <div><strong>Econ√≥mico:</strong> Solo $7/mes vs $20/mes de N8N Cloud con workflows y ejecuciones ilimitadas</div>
    </li>
  </ul>
</div>

## Requisitos Previos para Desplegar N8N

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Requisito</th>
      <th>Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cuenta Heroku</td>
      <td>Gratuita o de pago en <a href="https://heroku.com" target="_blank">heroku.com</a></td>
    </tr>
    <tr>
      <td>Cuenta Supabase</td>
      <td>Gratuita en <a href="https://supabase.com" target="_blank">supabase.com</a> con proyecto y base de datos creada</td>
    </tr>
    <tr>
      <td>Heroku CLI</td>
      <td>Instalado y configurado en tu sistema</td>
    </tr>
    <tr>
      <td>Docker</td>
      <td>Instalado para construir y subir contenedores</td>
    </tr>
    <tr>
      <td>Git</td>
      <td>Para clonar repositorios y gestionar versiones</td>
    </tr>
    <tr>
      <td>Conocimientos</td>
      <td>B√°sicos de terminal, variables de entorno y Docker</td>
    </tr>
  </tbody>
</table>
</div>

### Verificar instalaci√≥n de herramientas

Antes de comenzar, verifica que tienes todas las herramientas instaladas:

```bash
heroku --version
docker --version
git --version
```

Luego inicia sesi√≥n en Heroku y Docker:

```bash
# Inicia sesi√≥n en Heroku
heroku login
```

```bash
# Autentica Docker con Heroku
heroku container:login
```

## Paso 1: Configurar PostgreSQL en Supabase para N8N

El primer paso en nuestro camino es configurar la **base de datos PostgreSQL en Supabase**. Esta ser√° el coraz√≥n de tu instalaci√≥n N8N, almacenando de forma persistente todos los workflows, credenciales y datos de ejecuci√≥n.

### 1.1 Crear el proyecto en Supabase

Comencemos creando tu espacio de trabajo en Supabase:

1. Dir√≠gete a [supabase.com](https://supabase.com) y accede con tu cuenta
2. Haz clic en el bot√≥n **"New project"**
3. Asigna un nombre descriptivo a tu proyecto (por ejemplo: `n8n-production` o `mi-automatizacion`)
4. Establece una contrase√±a robusta para la base de datos (gu√°rdala en un lugar seguro, la necesitar√°s m√°s adelante)
5. Selecciona la regi√≥n geogr√°fica m√°s cercana a tu ubicaci√≥n para minimizar la latencia

### 1.2 Activar Connection Pooling (Transaction Pooler)

<div className="bg-yellow-50 dark:bg-yellow-900/30 rounded-lg p-6 my-6">
  <div className="font-semibold text-yellow-800 dark:text-yellow-200 mb-2">‚ö†Ô∏è Aspecto Cr√≠tico: Conectividad IPv4 en Heroku</div>
  <div className="text-yellow-700 dark:text-yellow-300">
    Existe un detalle t√©cnico importante que debes conocer: Heroku presenta limitaciones de conectividad con URLs IPv6 y conexiones directas de Supabase. Por esta raz√≥n, es <strong>absolutamente crucial usar el Transaction Pooler</strong> configurado en el puerto <strong>6543</strong>. Esto evitar√° que te enfrentes a frustrantes errores <code>ENETUNREACH</code> que impedir√≠an que tu aplicaci√≥n se conecte a la base de datos.
  </div>
</div>

Para configurar correctamente el Connection Pooling, sigue estos pasos con atenci√≥n:

1. En tu proyecto de Supabase, ve a **Database ‚Üí Settings**
2. Busca la secci√≥n **Connection Pooling**
3. Activa el **Transaction Pooler** (Shared Pooler) si no est√° activado
4. Copia la **Connection string** del Transaction Pooler (incluye `pooler.supabase.com` y puerto `6543`)
5. Guarda tambi√©n la contrase√±a de tu base de datos

<div className="my-8">
  <img 
    src="/blog/supabase-transaction-pooler.png" 
    alt="Configuraci√≥n de Transaction Pooler en Supabase"
    className="rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full"
  />
  <div className="text-sm text-gray-600 dark:text-gray-400 text-center mt-3 italic">
    Activa el Transaction Pooler y copia la Connection String con puerto 6543
  </div>
</div>

<div className="bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/30 dark:to-orange-900/30 border-l-4 border-red-500 dark:border-red-400 rounded-lg p-6 my-6">
  <div className="font-bold text-red-900 dark:text-red-100 mb-3 text-lg flex items-center gap-2">
    <span className="text-2xl">‚ùå</span>
    <span>NO usar el puerto 5432</span>
  </div>
  <div className="text-red-800 dark:text-red-200 mb-3 font-medium">
    No uses la "Connection String" est√°ndar que aparece en Database Settings con puerto 5432.
  </div>
  <div className="text-red-900 dark:text-red-100 font-semibold mb-2 text-sm">Ejemplo de lo que NO debes usar:</div>
  <CodeBlock 
    code="postgresql://postgres:[PASSWORD]@db.hmbzbjxghavlsnhhvmqt.supabase.com:5432/postgres"
    language="bash"
    className="bg-red-100 dark:bg-red-950 border border-red-300 dark:border-red-700 rounded-lg shadow-inner"
  />
  <div className="text-red-800 dark:text-red-200 mt-3 flex items-start gap-2">
    <span className="text-lg mt-0.5">‚ö†Ô∏è</span>
    <span>Esta conexi√≥n directa con puerto <strong>5432</strong> tiene problemas de conectividad IPv6 en Heroku. Debes usar el Transaction Pooler con puerto <strong className="text-green-700 dark:text-green-400">6543</strong>.</span>
  </div>
</div>

La URL de conexi√≥n del Transaction Pooler tendr√° este formato:

```bash
postgresql://postgres.hmbzbjxghavlsnhhvmqt:[YOUR-PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres
```


> üí° **Nota:** Aseg√∫rate de copiar la URL completa desde la secci√≥n "Connection Pooling" en Supabase, no desde "Connection String" que usa el puerto 5432 y el host directo `db.PROJECT_REF.supabase.com`.

## Paso 2: Crear Aplicaci√≥n N8N en Heroku con Docker

Ahora que tenemos nuestra base de datos lista, es momento de preparar el hogar de tu servidor N8N en Heroku. Utilizaremos **Heroku CLI** para crear y configurar la aplicaci√≥n directamente desde la l√≠nea de comandos:

```bash
# Crea tu aplicaci√≥n (recuerda que el nombre debe ser √∫nico en toda la plataforma Heroku)
heroku create heroku-n8n
```

Este sencillo comando realiza varias acciones importantes:
- Crea una nueva aplicaci√≥n en tu cuenta de Heroku
- Te asigna una URL p√∫blica √∫nica donde estar√° disponible tu servidor N8N

Al ejecutarlo, ver√°s algo similar a:

```
https://heroku-n8n.herokuapp.com
```

> üí° **Consejo √∫til:** Si el nombre que elegiste ya est√° en uso por otro usuario, Heroku generar√° autom√°ticamente un nombre aleatorio para ti. No te preocupes, siempre puedes cambiarlo posteriormente desde el dashboard de Heroku.

### Configurar el Stack Container para Docker

Este es un paso fundamental que muchos olvidan: debemos indicarle expl√≠citamente a Heroku que nuestra aplicaci√≥n utilizar√° **contenedores Docker** en lugar del sistema de buildpacks tradicional:

```bash
heroku stack:set container -a heroku-n8n
```

Con este comando, le estamos diciendo a Heroku: "Esta aplicaci√≥n se desplegar√° usando el **Docker container stack**, no los buildpacks est√°ndar". Este cambio es esencial para que todo funcione correctamente.

<div className="my-8">
  <img 
    src="/blog/heroku-stack-container.png" 
    alt="Configuraci√≥n del stack container en Heroku"
    className="rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full"
  />
  <div className="text-sm text-gray-600 dark:text-gray-400 text-center mt-3 italic">
    El stack debe estar configurado como "container" para desplegar con Docker
  </div>
</div>

## Paso 3: Configurar Variables de Entorno para N8N

Llegamos a uno de los pasos m√°s importantes del tutorial: la configuraci√≥n de las **variables de entorno**. Estas variables son, literalmente, el cerebro de tu instalaci√≥n N8N. A trav√©s de ellas conectaremos tu aplicaci√≥n con **Supabase PostgreSQL** y definiremos c√≥mo se comportar√° el sistema completo.

### 3.1 Crear archivo .env local (referencia)

Antes de configurar nada en Heroku, te recomiendo crear un archivo `.env` en tu directorio local. Este archivo te servir√° como referencia y documentaci√≥n de tu configuraci√≥n. No te preocupes, no lo subiremos a ning√∫n repositorio p√∫blico (de hecho, deber√≠as agregarlo a tu `.gitignore`).

Crea el archivo con este contenido, reemplazando los valores de ejemplo con tus datos reales:

```bash
DB_TYPE=postgresdb
DATABASE_URL=postgresql://postgres.hmbzbjxghavlsnhhvmqt:tu_password@aws-0-us-east-1.pooler.supabase.com:6543/postgres
DB_POSTGRESDB_HOST=db.hmbzbjxghavlsnhhvmqt.supabase.com
DB_POSTGRESDB_PORT=6543
DB_POSTGRESDB_DATABASE=postgres
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD=tu_password
DB_POSTGRESDB_SSL=true
DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false
DB_POSTGRESDB_CONNECTION_TIMEOUT=30000
N8N_ENCRYPTION_KEY=clave-secreta-aleatoria
WEBHOOK_URL=https://heroku-n8n.herokuapp.com/
GENERIC_TIMEZONE=America/Bogota
```

### 3.2 Variables de base de datos PostgreSQL explicadas

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Ejemplo</th>
      <th>Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DATABASE_URL</code></td>
      <td><code>postgresql://postgres.xyz:pass@aws-0-us-east-1.pooler.supabase.com:6543/postgres</code></td>
      <td>URL completa del Transaction Pooler (puerto 6543)</td>
    </tr>
    <tr>
      <td><code>DB_TYPE</code></td>
      <td><code>postgresdb</code></td>
      <td>Tipo de base de datos que usa N8N</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_HOST</code></td>
      <td><code>db.hmbzbjxghavlsnhhvmqt.supabase.com</code></td>
      <td>Host directo de la base de datos (formato db.PROJECT_REF.supabase.com)</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_PORT</code></td>
      <td><code>6543</code></td>
      <td>Puerto del Transaction Pooler</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_DATABASE</code></td>
      <td><code>postgres</code></td>
      <td>Nombre de la base de datos (usualmente postgres)</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_USER</code></td>
      <td><code>postgres</code></td>
      <td>Usuario est√°ndar de PostgreSQL</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_PASSWORD</code></td>
      <td><code>tu_password</code></td>
      <td>Contrase√±a de tu proyecto Supabase</td>
    </tr>
  </tbody>
</table>
</div>

### 3.3 Variables de conexi√≥n SSL y seguridad

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Valor</th>
      <th>Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DB_POSTGRESDB_SSL</code></td>
      <td><code>true</code></td>
      <td>Habilita conexiones SSL seguras</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED</code></td>
      <td><code>false</code></td>
      <td>Permite SSL sin verificar certificado</td>
    </tr>
    <tr>
      <td><code>DB_POSTGRESDB_CONNECTION_TIMEOUT</code></td>
      <td><code>30000</code></td>
      <td>Timeout de conexi√≥n en milisegundos (30 segundos)</td>
    </tr>
  </tbody>
</table>
</div>

### 3.4 Variables de configuraci√≥n N8N

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Ejemplo</th>
      <th>Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>N8N_ENCRYPTION_KEY</code></td>
      <td><code>clave-secreta-aleatoria</code></td>
      <td>Clave para encriptar credenciales (genera una √∫nica y segura)</td>
    </tr>
    <tr>
      <td><code>WEBHOOK_URL</code></td>
      <td><code>https://heroku-n8n.herokuapp.com/</code></td>
      <td>URL p√∫blica para recibir webhooks</td>
    </tr>
    <tr>
      <td><code>GENERIC_TIMEZONE</code></td>
      <td><code>America/Bogota</code></td>
      <td>Zona horaria de tu regi√≥n</td>
    </tr>
  </tbody>
</table>
</div>

<div className="bg-gradient-to-r from-amber-50 to-red-50 dark:from-amber-900/30 dark:to-red-900/30 border-l-4 border-amber-500 dark:border-amber-400 rounded-lg p-6 my-6 shadow-md">
  <div className="font-bold text-amber-900 dark:text-amber-100 mb-3 text-lg flex items-center gap-2">
    <span className="text-2xl">üîê</span>
    <span>Seguridad: C√≥mo Generar N8N_ENCRYPTION_KEY Segura</span>
  </div>
  <div className="text-amber-900 dark:text-amber-200 mb-4 font-medium bg-amber-100 dark:bg-amber-900/50 p-3 rounded-lg border border-amber-200 dark:border-amber-700">
    ‚ö†Ô∏è <strong>Nunca uses la clave de ejemplo en producci√≥n.</strong> Genera una clave √∫nica y segura usando uno de estos comandos:
  </div>
  
  <div className="space-y-4">
    <div>
      <div className="text-amber-900 dark:text-amber-100 mb-2 font-semibold flex items-center gap-2">
        <span className="bg-blue-500 text-white px-2 py-1 rounded text-xs">Windows</span>
        <span>En PowerShell:</span>
      </div>
      <CodeBlock 
        code={`[guid]::NewGuid().ToString("N")`}
        language="powershell"
        className="bg-gray-800 dark:bg-gray-950 border border-gray-600 dark:border-gray-700 rounded-lg shadow-inner"
      />
    </div>
    
    <div>
      <div className="text-amber-900 dark:text-amber-100 mb-2 font-semibold flex items-center gap-2">
        <span className="bg-purple-500 text-white px-2 py-1 rounded text-xs">Linux/Mac</span>
        <span>En Terminal o Git Bash:</span>
      </div>
      <CodeBlock 
        code={`node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"`}
        language="bash"
        className="bg-gray-800 dark:bg-gray-950 border border-gray-600 dark:border-gray-700 rounded-lg shadow-inner"
      />
    </div>
  </div>
  
  <div className="mt-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg p-3">
    <div className="text-green-900 dark:text-green-100 text-sm flex items-start gap-2">
      <span className="text-lg">‚úÖ</span>
      <div>
        <strong>Ejemplo de salida v√°lida:</strong>
        <code className="block mt-1 bg-white dark:bg-gray-800 px-2 py-1 rounded border border-green-300 dark:border-green-600 font-mono text-green-700 dark:text-green-300">3ea72ecf9ec74866978b82b1561f394c</code>
      </div>
    </div>
  </div>
</div>

### 3.5 Subir variables a Heroku

Ahora viene el momento de trasladar toda esta configuraci√≥n a Heroku. Te presento dos m√©todos para hacerlo; elige el que te resulte m√°s c√≥modo:

#### Opci√≥n A: Usando el plugin heroku-config (m√©todo recomendado)

Si ya tienes tu archivo `.env` preparado localmente, esta es la forma m√°s r√°pida y menos propensa a errores. Primero, instala el plugin oficial `heroku-config`:

```bash
heroku plugins:install heroku-config
```

Una vez instalado, sube todas las variables de tu archivo `.env` a Heroku con un solo comando:

```bash
heroku config:push -a heroku-n8n
```

Si todo sale bien, deber√≠as ver el mensaje: `Successfully wrote settings to Heroku!`

#### Opci√≥n B: Configuraci√≥n manual (m√©todo tradicional)

Si prefieres tener control total sobre cada variable o no quieres usar plugins, puedes configurarlas manualmente una por una. Este m√©todo es m√°s largo, pero igualmente v√°lido:

```bash
heroku config:set \
  DB_TYPE=postgresdb \
  DATABASE_URL=postgresql://postgres.hmbzbjxghavlsnhhvmqt:tu_password@aws-0-us-east-1.pooler.supabase.com:6543/postgres \
  DB_POSTGRESDB_HOST=db.hmbzbjxghavlsnhhvmqt.supabase.com \
  DB_POSTGRESDB_PORT=6543 \
  DB_POSTGRESDB_DATABASE=postgres \
  DB_POSTGRESDB_USER=postgres \
  DB_POSTGRESDB_PASSWORD=tu_password \
  DB_POSTGRESDB_SSL=true \
  DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false \
  DB_POSTGRESDB_CONNECTION_TIMEOUT=30000 \
  N8N_ENCRYPTION_KEY=clave-secreta-aleatoria \
  WEBHOOK_URL=https://heroku-n8n.herokuapp.com/ \
  GENERIC_TIMEZONE=America/Bogota \
  -a heroku-n8n
```



<div className="my-8">
  <img 
    src="/blog/heroku-config-vars.png" 
    alt="Variables de entorno configuradas en Heroku"
    className="rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full"
  />
  <div className="text-sm text-gray-600 dark:text-gray-400 text-center mt-3 italic">
    Todas las variables de entorno necesarias configuradas en el panel de Heroku
  </div>
</div>

## Paso 4: Crear Archivos Docker para N8N (Dockerfile + entrypoint.sh)

Ahora viene la parte donde preparamos los "planos de construcci√≥n" de tu servidor N8N. Vamos a crear tres archivos esenciales que Heroku utilizar√° para construir y ejecutar tu contenedor Docker: **Dockerfile**, **entrypoint.sh** y **heroku.yml**.

### 4.1 Crear el Dockerfile para N8N

El Dockerfile es como una receta que le dice a Docker c√≥mo construir tu contenedor. Crea un archivo llamado `Dockerfile` (sin extensi√≥n) en la ra√≠z de tu proyecto con el siguiente contenido:

```dockerfile
FROM n8nio/n8n:latest

COPY entrypoint.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

ENTRYPOINT ["/entrypoint.sh"]
```

**¬øQu√© hace cada l√≠nea de este Dockerfile?**

1. **FROM n8nio/n8n:latest** ‚Üí Partimos de la imagen oficial m√°s reciente de N8N como base
2. **COPY entrypoint.sh /entrypoint.sh** ‚Üí Copiamos nuestro script personalizado dentro del contenedor
3. **RUN chmod +x /entrypoint.sh** ‚Üí Le otorgamos permisos de ejecuci√≥n al script
4. **ENTRYPOINT ["/entrypoint.sh"]** ‚Üí Definimos que este script sea el punto de entrada, es decir, lo primero que se ejecutar√° cuando el contenedor arranque

### 4.2 Crear el script entrypoint.sh

Este script es la pieza clave que hace que todo funcione correctamente. El `entrypoint.sh` se ejecuta antes de que N8N inicie, y se encarga de dos tareas cr√≠ticas: parsear la `DATABASE_URL` y configurar todas las variables de entorno que N8N necesita para conectarse a PostgreSQL.

Crea un archivo llamado `entrypoint.sh` con el siguiente contenido:

```bash
#!/bin/sh

# Puerto de Heroku
if [ -z ${PORT+x} ]; then 
  echo "PORT variable not defined, leaving N8N to default port."
else 
  export N8N_PORT="$PORT"; 
  echo "N8N will start on '$PORT'"
fi

# Funci√≥n para parsear DATABASE_URL
parse_url() {
  eval $(echo "$1" | sed -e "s#^\(\(.*\)://\)\?\(\([^:@]*\)\(:\(.*\)\)\?@\)\?\([^/?]*\)\(/\(.*\)\)\?#${PREFIX:-URL_}SCHEME='\2' ${PREFIX:-URL_}USER='\4' ${PREFIX:-URL_}PASSWORD='\6' ${PREFIX:-URL_}HOSTPORT='\7' ${PREFIX:-URL_}DATABASE='\9'#")
}

PREFIX="N8N_DB_" parse_url "$DATABASE_URL"
echo "$N8N_DB_SCHEME://$N8N_DB_USER:$N8N_DB_PASSWORD@$N8N_DB_HOSTPORT/$N8N_DB_DATABASE"

# Separar host y puerto
N8N_DB_HOST="$(echo $N8N_DB_HOSTPORT | sed -e 's,:.*,,g')"
N8N_DB_PORT="$(echo $N8N_DB_HOSTPORT | sed -e 's,^.*:,:,g' -e 's,.*:\([0-9]*\).*,\1,g' -e 's,[^0-9],,g')"

export DB_TYPE=postgresdb
export DB_POSTGRESDB_HOST=$N8N_DB_HOST
export DB_POSTGRESDB_PORT=$N8N_DB_PORT
export DB_POSTGRESDB_DATABASE=$N8N_DB_DATABASE
export DB_POSTGRESDB_USER=$N8N_DB_USER
export DB_POSTGRESDB_PASSWORD=$N8N_DB_PASSWORD

# Arranca N8N
n8n
```

> üí° **Nota importante:** En Windows, los permisos de ejecuci√≥n se configuran autom√°ticamente al crear el archivo, no necesitas hacer nada adicional. En sistemas Linux o Mac, si creas el archivo localmente, es posible que debas ejecutar `chmod +x entrypoint.sh` para darle permisos de ejecuci√≥n.

### 4.3 Entendiendo el script: ¬øQu√© hace cada parte?

Puede parecer complejo a primera vista, pero el script realiza una serie de pasos l√≥gicos y bien definidos:

1. **Detecta el puerto din√°mico**: Heroku no usa puertos fijos; cada vez que arranca tu aplicaci√≥n, asigna un puerto aleatorio a trav√©s de la variable `$PORT`. El script detecta este valor y lo configura para N8N.

2. **Parsea la DATABASE_URL**: Heroku proporciona la URL de conexi√≥n completa en un solo string. El script usa expresiones regulares avanzadas (sed) para separar este string en sus componentes: protocolo, usuario, contrase√±a, host, puerto y nombre de base de datos.

3. **Separa host y puerto**: Extrae el host (ej: `aws-0-us-east-1.pooler.supabase.com`) y el puerto (`6543`) del valor `HOSTPORT`.

4. **Exporta variables individuales**: Configura todas las variables de entorno espec√≠ficas que N8N espera recibir, como `DB_POSTGRESDB_HOST`, `DB_POSTGRESDB_PORT`, etc.

5. **Inicia N8N**: Finalmente, ejecuta el comando `n8n` para arrancar el servidor con toda la configuraci√≥n correcta.

### 4.4 Crear heroku.yml

El √∫ltimo archivo que necesitamos es `heroku.yml`. Este archivo de configuraci√≥n le indica a Heroku exactamente c√≥mo debe construir tu aplicaci√≥n. Cr√©alo en la ra√≠z de tu proyecto con este contenido:

```yaml
build:
  docker:
    web: Dockerfile
```

Simple y directo: este archivo le dice a Heroku "Para construir el proceso web de esta aplicaci√≥n, utiliza el `Dockerfile` que est√° en la ra√≠z del proyecto".

## Paso 5: Desplegar en Heroku

¬°Lleg√≥ el momento de la verdad! Ya tienes el stack configurado como container y todos los archivos necesarios listos. Ahora viene la parte emocionante: desplegar tu servidor N8N a Heroku. El proceso es sorprendentemente simple gracias a Git.

### 5.1 Inicializar repositorio Git (si a√∫n no lo has hecho)

Si tu directorio a√∫n no es un repositorio Git, inicial√≠zalo con:

```bash
git init
```

### 5.2 Conectar con tu aplicaci√≥n Heroku

Vincula tu repositorio local con la aplicaci√≥n que creaste en Heroku:

```bash
heroku git:remote -a heroku-n8n
```

Este comando agrega un "remote" llamado `heroku` a tu repositorio Git, apuntando a tu aplicaci√≥n.

### 5.3 Preparar los archivos para el despliegue

Agrega todos los archivos al staging area de Git y crea un commit:

```bash
git add .
git commit -m "Configuraci√≥n inicial de N8N con Supabase PostgreSQL"
```

### 5.4 ¬°Despliega a Heroku!

Ahora s√≠, el comando m√°gico que pone todo en marcha:

```bash
git push heroku master
```

Si tu rama principal se llama `main` en lugar de `master`, usa:

```bash
git push heroku main
```

**¬øQu√© sucede cuando ejecutas este comando?**

Prep√°rate para ver una cascada de mensajes en tu terminal. Heroku est√° trabajando duro por ti:

1. ‚¨ÜÔ∏è **Sube tu c√≥digo** a los servidores de Heroku
2. üìã **Detecta el archivo heroku.yml** y reconoce que debe usar Docker
3. üê≥ **Construye el contenedor** siguiendo las instrucciones de tu Dockerfile
4. üì¶ **Despliega la aplicaci√≥n** en su infraestructura
5. üöÄ **Inicia N8N** con todas tus configuraciones aplicadas

El proceso completo puede tomar entre 2 y 5 minutos, dependiendo de la velocidad de tu conexi√≥n y la carga de los servidores de Heroku.

### 5.5 Verificar que el despliegue fue exitoso

Una vez que el push termine, es fundamental verificar que todo arranc√≥ correctamente. Monitorea los logs en tiempo real con:

```bash
heroku logs --tail -a heroku-n8n
```

Este comando te mostrar√° los logs en tiempo real. Mant√©n este terminal abierto mientras observas c√≥mo N8N inicia.

¬øQuieres abrir tu nueva instalaci√≥n de N8N directamente en el navegador? Usa:

```bash
heroku open -a heroku-n8n
```

Este comando abrir√° autom√°ticamente tu aplicaci√≥n en tu navegador predeterminado.

<div className="bg-green-50 dark:bg-green-900/30 rounded-lg p-6 my-6">
  <div className="font-semibold text-green-800 dark:text-green-200 mb-2">‚úÖ Se√±ales de √©xito en los logs</div>
  <ul className="text-green-700 dark:text-green-300 space-y-1">
    <li>‚Ä¢ <code>N8N is now running</code></li>
    <li>‚Ä¢ <code>Editor is now accessible via</code></li>
    <li>‚Ä¢ Sin errores <code>ENETUNREACH</code> o <code>ECONNREFUSED</code></li>
    <li>‚Ä¢ Conexi√≥n exitosa a PostgreSQL</li>
    <li>‚Ä¢ <code>Successfully connected to database</code></li>
  </ul>
</div>

## Paso 6: Gesti√≥n de la Aplicaci√≥n

¬°Felicitaciones! Tu servidor N8N ya est√° en funcionamiento. Ahora te mostrar√© los comandos esenciales que necesitar√°s para gestionar tu aplicaci√≥n en el d√≠a a d√≠a. Piensa en estos comandos como el panel de control de tu servidor.

### Pausar la aplicaci√≥n (ahorrar recursos)

Si necesitas detener temporalmente tu servidor N8N sin eliminarlo (por ejemplo, para ahorrar horas de dyno cuando no lo est√©s usando):

```bash
heroku ps:scale web=0 -a heroku-n8n
```

Este comando escala tu aplicaci√≥n a cero dynos, efectivamente deteni√©ndola. Tu configuraci√≥n y datos permanecen intactos.

### Reactivar la aplicaci√≥n

Cuando necesites volver a usar tu servidor N8N, simplemente react√≠valo:

```bash
heroku ps:scale web=1 -a heroku-n8n
```

Esto vuelve a escalar a un dyno, reiniciando tu aplicaci√≥n donde la dejaste.

### Reiniciar (aplicar cambios de variables)

¬øCambiaste alguna variable de entorno y necesitas que N8N la reconozca? Un simple reinicio es suficiente:

```bash
heroku restart -a heroku-n8n
```

Este es el equivalente a apagar y encender tu servidor. Los cambios en las variables de entorno se aplicar√°n inmediatamente.

### Redesplegar despu√©s de cambios en el c√≥digo

Si modificaste alguno de los archivos clave como el `Dockerfile` o `entrypoint.sh`, necesitar√°s reconstruir y redesplegar el contenedor completo. Hay dos formas de hacerlo:

**Opci√≥n 1: Usando Git (recomendado)**

```bash
git add .
git commit -m "Actualizaci√≥n de configuraci√≥n Docker"
git push heroku main
```

**Opci√≥n 2: Usando Heroku Container Registry**

```bash
heroku container:push web -a heroku-n8n
heroku container:release web -a heroku-n8n
```

### Monitorear el estado de tu aplicaci√≥n

Para ver un resumen r√°pido del estado actual de tu aplicaci√≥n:

```bash
heroku ps -a heroku-n8n
```

Te mostrar√° informaci√≥n como el tipo de dyno que est√°s usando, cu√°nto tiempo lleva activo, y su estado (up, down, etc).

### Consultar todas las variables de entorno

¬øNecesitas recordar qu√© variables tienes configuradas o verificar sus valores?

```bash
heroku config -a heroku-n8n
```

## Paso 7: Verificaci√≥n y Primeros Pasos

Es hora de probar tu nueva instalaci√≥n y asegurarte de que todo funciona a la perfecci√≥n. Este es el momento m√°s emocionante: ¬°ver tu servidor N8N en acci√≥n!

### 7.1 Acceder a tu instalaci√≥n de N8N

Abre tu navegador favorito y dir√≠gete a la URL de tu aplicaci√≥n:

```
https://heroku-n8n.herokuapp.com
```

Si configuraste autenticaci√≥n b√°sica (las variables `N8N_BASIC_AUTH_*`), aparecer√° una ventana emergente solicitando tu usuario y contrase√±a. Introduce las credenciales que definiste en las variables de entorno.

<div className="my-8">
  <img 
    src="/blog/n8n-dashboard-success.png" 
    alt="Dashboard de N8N funcionando correctamente"
    className="rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full"
  />
  <div className="text-sm text-gray-600 dark:text-gray-400 text-center mt-3 italic">
    ¬°Felicitaciones! Tu instalaci√≥n de N8N est√° lista y funcionando
  </div>
</div>

### 7.2 Configuraci√≥n inicial: crear tu cuenta de propietario

La primera vez que accedas a tu instalaci√≥n de N8N, el sistema te pedir√° que crees una **cuenta de propietario**. Esta es tu cuenta principal de administrador. Completa los siguientes datos:

1. **Tu nombre y apellido** (para personalizar la experiencia)
2. **Correo electr√≥nico** (√∫salo para recuperar tu cuenta si olvidas la contrase√±a)
3. **Contrase√±a robusta** (elige una que sea segura, con may√∫sculas, n√∫meros y s√≠mbolos)

Una vez creada la cuenta, tendr√°s acceso completo al editor de workflows de N8N.

### 7.3 Explora la interfaz de N8N

T√≥mate unos minutos para familiarizarte con el entorno:

- **Panel izquierdo**: Aqu√≠ encontrar√°s todos los nodos disponibles (m√°s de 200 integraciones)
- **Canvas central**: El √°rea de trabajo donde arrastras y conectas nodos para crear workflows
- **Panel derecho**: Configuraci√≥n del nodo seleccionado
- **Men√∫ superior**: Acceso a tus workflows guardados, credenciales y configuraci√≥n

### 7.4 Crea tu primer workflow de prueba

Vamos a crear un workflow sencillo para verificar que todo funciona correctamente. Te sugiero este flujo b√°sico:

1. Haz clic en el bot√≥n **"+ Add first step"** o arrastra un nodo **Webhook** al canvas
2. Configura el webhook para que escuche peticiones GET
3. A√±ade un nodo **Set** para transformar datos
4. Conecta los nodos arrastrando desde la salida del primero a la entrada del segundo
5. Haz clic en **"Save"** para guardar tu workflow
6. Activa el workflow con el toggle en la parte superior

### 7.5 Verificar la persistencia de datos (prueba crucial)

Este es el test definitivo para asegurarte de que la conexi√≥n con Supabase funciona correctamente:

```bash
# Paso 1: Crea y guarda un workflow en N8N (desde la interfaz web)

# Paso 2: Reinicia la aplicaci√≥n desde la terminal
heroku restart -a heroku-n8n

# Paso 3: Espera aproximadamente 30 segundos para que el servidor vuelva a estar activo

# Paso 4: Recarga la p√°gina de N8N en tu navegador
```

**¬øQu√© debes ver?**

‚úÖ **Si la persistencia funciona correctamente**: Tu workflow seguir√° ah√≠ exactamente como lo dejaste, con todas sus configuraciones intactas.

‚ùå **Si hay un problema**: El workflow habr√° desaparecido, lo que indica que N8N no est√° guardando en la base de datos. En ese caso, revisa los logs con `heroku logs --tail -a heroku-n8n` para identificar errores de conexi√≥n a PostgreSQL.

## Soluci√≥n de Problemas Comunes

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Problema</th>
      <th>Soluci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Error <code>ENETUNREACH</code></td>
      <td>Verifica que est√°s usando el endpoint IPv4 de Supabase (empieza con <code>db.</code>)</td>
    </tr>
    <tr>
      <td>Error <code>ECONNREFUSED</code></td>
      <td>Revisa que el Transaction Pooler est√© activado en Supabase</td>
    </tr>
    <tr>
      <td>Timeout de conexi√≥n</td>
      <td>Aumenta <code>DB_POSTGRESDB_CONNECTION_TIMEOUT</code> a 90000 o m√°s</td>
    </tr>
    <tr>
      <td>N8N no guarda cambios</td>
      <td>Verifica que <code>DATABASE_URL</code> est√© correctamente configurada</td>
    </tr>
    <tr>
      <td>Error de SSL</td>
      <td>Aseg√∫rate de que <code>DB_POSTGRESDB_SSL=true</code></td>
    </tr>
    <tr>
      <td>App no inicia</td>
      <td>Revisa logs con <code>heroku logs --tail</code> para identificar el error</td>
    </tr>
  </tbody>
</table>
</div>

## Costos Mensuales de N8N Self-Hosted en Heroku + Supabase

### Precios de Heroku (Dynos)

- **Hobby**: $7/mes por dyno (siempre activo, sin sleep, ideal para proyectos personales)
- **Professional**: Desde $25/mes (m√°s recursos, m√©tricas avanzadas, para producci√≥n)
- **Performance**: Desde $250/mes (alto rendimiento, aplicaciones cr√≠ticas)

### Precios de Supabase (PostgreSQL)

- **Free tier**: 500 MB de almacenamiento, 2 GB de transferencia (suficiente para empezar)
- **Pro**: $25/mes (8 GB almacenamiento, 50 GB transferencia, soporte prioritario)

<div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 my-6">
  <div className="text-gray-700 dark:text-gray-300">
    üí° <strong>Recomendaci√≥n:</strong> Comienza con Heroku Hobby ($7/mes) y Supabase Free. Esto te cuesta solo $7/mes y es m√°s que suficiente para workflows personales o proyectos peque√±os. Actualiza a planes superiores cuando tengas workflows en producci√≥n con alto tr√°fico.
  </div>
</div>

## Pr√≥ximos Pasos: Qu√© Hacer con tu Instalaci√≥n de N8N

Una vez que tengas **N8N funcionando en Heroku**, puedes comenzar a crear automatizaciones poderosas:

1. **Conectar servicios**: Integra N8N con Google Sheets, Slack, Discord, APIs personalizadas, etc.
2. **Automatizar tareas**: Crea workflows para notificaciones, procesamiento de datos, scraping web
3. **Configurar webhooks**: Recibe eventos desde otras aplicaciones
4. **Programar ejecuciones**: Usa cron para ejecutar workflows autom√°ticamente
5. **Monitorear ejecuciones**: Revisa logs y estad√≠sticas de tus automatizaciones

## Self-Hosted vs N8N Cloud: Comparaci√≥n de Costos

Una pregunta com√∫n es: ¬øVale la pena el esfuerzo de self-hosting o deber√≠a usar N8N Cloud? Aqu√≠ est√° la comparaci√≥n detallada:

### Comparaci√≥n de Planes

<div className="overflow-x-auto">
<table>
  <thead>
    <tr>
      <th>Caracter√≠stica</th>
      <th>Self-Hosted (Heroku + Supabase)</th>
      <th>N8N Cloud Starter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Costo mensual</strong></td>
      <td>$7/mes (Heroku Hobby) + $0 (Supabase Free) = <strong>$7/mes</strong></td>
      <td><strong>$20/mes</strong></td>
    </tr>
    <tr>
      <td><strong>Ejecuciones de workflows</strong></td>
      <td>Ilimitadas</td>
      <td>2,500 ejecuciones/mes</td>
    </tr>
    <tr>
      <td><strong>Workflows activos</strong></td>
      <td>Ilimitados</td>
      <td>20 workflows activos</td>
    </tr>
    <tr>
      <td><strong>Tiempo de ejecuci√≥n</strong></td>
      <td>Sin l√≠mite (hasta recursos del dyno)</td>
      <td>M√°ximo 5 minutos por ejecuci√≥n</td>
    </tr>
    <tr>
      <td><strong>Almacenamiento de datos</strong></td>
      <td>500 MB (Supabase Free), escalable a 8 GB ($25/mes)</td>
      <td>Incluido en el plan</td>
    </tr>
    <tr>
      <td><strong>Configuraci√≥n inicial</strong></td>
      <td>30-45 minutos (siguiendo este tutorial)</td>
      <td>5 minutos (registro y listo)</td>
    </tr>
    <tr>
      <td><strong>Mantenimiento</strong></td>
      <td>Manual (actualizaciones, monitoreo)</td>
      <td>Autom√°tico (gestionado por N8N)</td>
    </tr>
    <tr>
      <td><strong>Control de datos</strong></td>
      <td>Total (tus propios servidores)</td>
      <td>En servidores de N8N Cloud</td>
    </tr>
    <tr>
      <td><strong>Uptime garantizado</strong></td>
      <td>99.5% (Heroku Hobby)</td>
      <td>99.9% SLA</td>
    </tr>
    <tr>
      <td><strong>Soporte</strong></td>
      <td>Comunidad + documentaci√≥n</td>
      <td>Email support</td>
    </tr>
    <tr>
      <td><strong>Backups</strong></td>
      <td>Manual (o configurar con Supabase)</td>
      <td>Autom√°ticos incluidos</td>
    </tr>
    <tr>
      <td><strong>Escalabilidad</strong></td>
      <td>Manual (upgrade de dynos y DB)</td>
      <td>Autom√°tica en el mismo plan</td>
    </tr>
  </tbody>
</table>
</div>

### An√°lisis de Costos por Uso

<div className="grid md:grid-cols-2 gap-6 my-8">
  <div className="bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-500 dark:border-blue-400 rounded-lg p-6">
    <div className="text-2xl font-bold text-blue-900 dark:text-blue-100 mb-2">üí∞ Self-Hosted</div>
    <div className="text-lg font-semibold text-blue-800 dark:text-blue-200 mb-4">$7/mes inicial</div>
    <ul className="space-y-2 text-blue-900 dark:text-blue-100">
      <li>‚úÖ <strong>Mejor para:</strong></li>
      <li className="ml-4">‚Ä¢ Uso intensivo (&gt;2,500 ejecuciones/mes)</li>
      <li className="ml-4">‚Ä¢ M√°s de 20 workflows activos</li>
      <li className="ml-4">‚Ä¢ Procesos largos (&gt;5 minutos)</li>
      <li className="ml-4">‚Ä¢ Datos sensibles que no quieres en la nube</li>
      <li className="ml-4">‚Ä¢ Aprendizaje y experimentaci√≥n</li>
    </ul>
    <div className="mt-4 pt-4 border-t border-blue-300 dark:border-blue-700">
      <div className="text-sm font-semibold text-blue-800 dark:text-blue-200">Costo escalado:</div>
      <div className="text-xs text-blue-700 dark:text-blue-300 mt-1">
        ‚Ä¢ Con Heroku Professional ($25) + Supabase Pro ($25) = <strong>$50/mes</strong> para uso empresarial intensivo
      </div>
    </div>
  </div>

  <div className="bg-purple-50 dark:bg-purple-900/30 border-2 border-purple-500 dark:border-purple-400 rounded-lg p-6">
    <div className="text-2xl font-bold text-purple-900 dark:text-purple-100 mb-2">‚òÅÔ∏è N8N Cloud Starter</div>
    <div className="text-lg font-semibold text-purple-800 dark:text-purple-200 mb-4">$20/mes fijo</div>
    <ul className="space-y-2 text-purple-900 dark:text-purple-100">
      <li>‚úÖ <strong>Mejor para:</strong></li>
      <li className="ml-4">‚Ä¢ Equipos peque√±os o individuos</li>
      <li className="ml-4">‚Ä¢ Uso moderado (&lt;2,500 ejecuciones/mes)</li>
      <li className="ml-4">‚Ä¢ Workflows simples y r√°pidos</li>
      <li className="ml-4">‚Ä¢ Sin tiempo para mantenimiento</li>
      <li className="ml-4">‚Ä¢ Necesitas soporte oficial</li>
    </ul>
    <div className="mt-4 pt-4 border-t border-purple-300 dark:border-purple-700">
      <div className="text-sm font-semibold text-purple-800 dark:text-purple-200">Costo escalado:</div>
      <div className="text-xs text-purple-700 dark:text-purple-300 mt-1">
        ‚Ä¢ Plan Pro: <strong>$50/mes</strong> (10K ejecuciones, workflows ilimitados)
        <br />‚Ä¢ Plan Enterprise: Precio personalizado
      </div>
    </div>
  </div>
</div>

### Calculadora de ROI: ¬øCu√°ndo conviene cada opci√≥n?

<div className="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border-l-4 border-green-500 dark:border-green-400 rounded-lg p-6 my-6">
  <div className="font-bold text-green-900 dark:text-green-100 mb-4 text-lg">üìä An√°lisis de punto de equilibrio</div>
  
  <div className="space-y-4 text-green-900 dark:text-green-100">
    <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700">
      <div className="font-semibold mb-2">Escenario 1: Uso Ligero</div>
      <div className="text-sm space-y-1">
        <div>‚Ä¢ 5-10 workflows activos</div>
        <div>‚Ä¢ &lt;1,000 ejecuciones/mes</div>
        <div>‚Ä¢ Workflows simples (&lt;2 minutos)</div>
        <div className="mt-2 pt-2 border-t border-green-200 dark:border-green-700">
          <strong>Recomendaci√≥n:</strong> <span className="text-purple-600 dark:text-purple-400">N8N Cloud Starter</span> ‚Äî M√°s simple, sin mantenimiento
        </div>
      </div>
    </div>

    <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700">
      <div className="font-semibold mb-2">Escenario 2: Uso Moderado</div>
      <div className="text-sm space-y-1">
        <div>‚Ä¢ 15-20 workflows activos</div>
        <div>‚Ä¢ 2,000-3,000 ejecuciones/mes</div>
        <div>‚Ä¢ Mix de workflows simples y complejos</div>
        <div className="mt-2 pt-2 border-t border-green-200 dark:border-green-700">
          <strong>Recomendaci√≥n:</strong> <span className="text-blue-600 dark:text-blue-400">Self-Hosted</span> ‚Äî Mejor relaci√≥n costo/beneficio
        </div>
      </div>
    </div>

    <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700">
      <div className="font-semibold mb-2">Escenario 3: Uso Intensivo</div>
      <div className="text-sm space-y-1">
        <div>‚Ä¢ &gt;30 workflows activos</div>
        <div>‚Ä¢ &gt;5,000 ejecuciones/mes</div>
        <div>‚Ä¢ Procesos largos y complejos (&gt;5 minutos)</div>
        <div>‚Ä¢ Scraping, procesamiento de datos, integraciones empresariales</div>
        <div className="mt-2 pt-2 border-t border-green-200 dark:border-green-700">
          <strong>Recomendaci√≥n:</strong> <span className="text-blue-600 dark:text-blue-400">Self-Hosted definitivamente</span> ‚Äî Ahorros significativos ($13/mes vs $50+/mes)
        </div>
      </div>
    </div>
  </div>
</div>

### Ventajas Adicionales del Self-Hosting

<div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 my-6">
  <ul className="space-y-3 text-gray-700 dark:text-gray-300">
    <li className="flex items-start">
      <span className="text-green-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Sin l√≠mites artificiales:</strong> No hay restricciones de ejecuciones, workflows activos o tiempo de ejecuci√≥n
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-green-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Privacidad y seguridad:</strong> Tus datos nunca salen de tu infraestructura
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-green-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Personalizaci√≥n completa:</strong> Instala custom nodes, modifica configuraciones avanzadas
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-green-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Aprendizaje:</strong> Entiendes c√≥mo funciona la herramienta a nivel t√©cnico
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-green-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Portabilidad:</strong> Puedes migrar a otros proveedores (AWS, DigitalOcean, Railway) sin depender de N8N
      </div>
    </li>
  </ul>
</div>

### Ventajas de N8N Cloud

<div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 my-6">
  <ul className="space-y-3 text-gray-700 dark:text-gray-300">
    <li className="flex items-start">
      <span className="text-purple-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Cero configuraci√≥n:</strong> Listo para usar en minutos
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-purple-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Actualizaciones autom√°ticas:</strong> Siempre tienes la √∫ltima versi√≥n sin esfuerzo
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-purple-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Soporte oficial:</strong> Email support del equipo de N8N
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-purple-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Alta disponibilidad:</strong> 99.9% uptime garantizado con backups autom√°ticos
      </div>
    </li>
    <li className="flex items-start">
      <span className="text-purple-500 mr-2 text-xl">‚úì</span>
      <div>
        <strong>Escalabilidad gestionada:</strong> Crece sin preocuparte por la infraestructura
      </div>
    </li>
  </ul>
</div>


## Tu Servidor N8N Self-Hosted Est√° Listo

**Desplegar N8N en Heroku con Supabase** te proporciona una **plataforma de automatizaci√≥n self-hosted robusta, escalable y econ√≥mica** por solo **$7/mes**. La combinaci√≥n de estas tecnolog√≠as elimina la complejidad de gestionar infraestructura mientras mantienes control total sobre tus datos y workflows.

Esta configuraci√≥n es ideal tanto para:
- üéØ **Proyectos personales** y experimentaci√≥n con automatizaciones
- üíº **Startups y peque√±as empresas** que necesitan workflows ilimitados
- üöÄ **Entornos de producci√≥n** peque√±os y medianos con alto volumen
- üîê **Casos que requieren privacidad** de datos sensibles

Con la **persistencia de datos garantizada por PostgreSQL en Supabase** y la **facilidad de despliegue de Heroku**, puedes enfocarte en crear automatizaciones que agreguen valor a tu negocio o proyectos sin preocuparte por la infraestructura.

### Pr√≥ximos pasos recomendados

1. **Conecta tus primeros servicios** (Google Sheets, Slack, Discord, APIs)
2. **Configura webhooks** para recibir eventos en tiempo real
3. **Programa workflows con cron** para automatizaciones peri√≥dicas
4. **Explora la comunidad N8N** para encontrar plantillas y soluciones
5. **Monitorea tus ejecuciones** y optimiza workflows seg√∫n necesidad

¬°Ahora es tu turno de crear workflows incre√≠bles con N8N self-hosted! üéâ

---

### Preguntas Frecuentes (FAQ) sobre N8N en Heroku

<div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 my-6">
  <div className="space-y-4">
    <div>
      <div className="font-semibold text-gray-900 dark:text-gray-100 mb-1">‚ùì ¬øCu√°nto cuesta mantener N8N en Heroku?</div>
      <div className="text-gray-700 dark:text-gray-300 text-sm">Solo $7/mes con Heroku Hobby + Supabase Free. Puedes escalar a $50/mes con Professional si necesitas m√°s recursos.</div>
    </div>
    <div>
      <div className="font-semibold text-gray-900 dark:text-gray-100 mb-1">‚ùì ¬øEs mejor que N8N Cloud?</div>
      <div className="text-gray-700 dark:text-gray-300 text-sm">S√≠, si necesitas m√°s de 2,500 ejecuciones/mes o workflows que duren m√°s de 5 minutos. Self-hosted te da control total sin l√≠mites artificiales.</div>
    </div>
    <div>
      <div className="font-semibold text-gray-900 dark:text-gray-100 mb-1">‚ùì ¬øPor qu√© usar Transaction Pooler?</div>
      <div className="text-gray-700 dark:text-gray-300 text-sm">Heroku tiene problemas con conexiones IPv6 directas de Supabase. El Transaction Pooler (puerto 6543) resuelve errores ENETUNREACH.</div>
    </div>
    <div>
      <div className="font-semibold text-gray-900 dark:text-gray-100 mb-1">‚ùì ¬øPuedo migrar a otro proveedor despu√©s?</div>
      <div className="text-gray-700 dark:text-gray-300 text-sm">S√≠, como tienes el control total puedes migrar a AWS, DigitalOcean, Railway o cualquier proveedor que soporte Docker y PostgreSQL.</div>
    </div>
    <div>
      <div className="font-semibold text-gray-900 dark:text-gray-100 mb-1">‚ùì ¬øC√≥mo actualizo N8N a nuevas versiones?</div>
      <div className="text-gray-700 dark:text-gray-300 text-sm">Simplemente haz git push despu√©s de cambiar la imagen en tu Dockerfile a la nueva versi√≥n (ej: n8nio/n8n:1.x.x).</div>
    </div>
  </div>
</div>

## Referencias y Recursos sobre N8N y Heroku

### Documentaci√≥n Oficial

* [Documentaci√≥n oficial de N8N](https://docs.n8n.io/) - Gu√≠a completa de N8N
* [N8N en GitHub](https://github.com/n8n-io/n8n) - Repositorio oficial y c√≥digo fuente
* [Heroku Container Registry & Runtime](https://devcenter.heroku.com/articles/container-registry-and-runtime) - Gu√≠a de Docker en Heroku
* [Supabase Database Configuration](https://supabase.com/docs/guides/database) - Documentaci√≥n de PostgreSQL
* [N8N Community Forum](https://community.n8n.io/) - Comunidad oficial de N8N
* [Heroku Postgres Best Practices](https://devcenter.heroku.com/articles/postgresql-connection-pooling) - Mejores pr√°cticas de conexi√≥n

---

<div className="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-8 my-8 border-2 border-blue-300 dark:border-blue-600 text-center">
  <div className="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">
    üéâ ¬°Tutorial Completado!
  </div>
  <div className="text-gray-700 dark:text-gray-300 mb-4">
    Ahora tienes tu propio servidor <strong>N8N self-hosted en Heroku</strong> con persistencia de datos en <strong>Supabase PostgreSQL</strong>
  </div>
  <div className="flex justify-center gap-4 flex-wrap">
    <div className="bg-white dark:bg-gray-800 rounded-lg px-4 py-2 border border-blue-200 dark:border-blue-700">
      <div className="text-sm text-gray-600 dark:text-gray-400">Costo</div>
      <div className="text-xl font-bold text-blue-600 dark:text-blue-400">$7/mes</div>
    </div>
    <div className="bg-white dark:bg-gray-800 rounded-lg px-4 py-2 border border-green-200 dark:border-green-700">
      <div className="text-sm text-gray-600 dark:text-gray-400">Workflows</div>
      <div className="text-xl font-bold text-green-600 dark:text-green-400">Ilimitados</div>
    </div>
    <div className="bg-white dark:bg-gray-800 rounded-lg px-4 py-2 border border-purple-200 dark:border-purple-700">
      <div className="text-sm text-gray-600 dark:text-gray-400">Ejecuciones</div>
      <div className="text-xl font-bold text-purple-600 dark:text-purple-400">Sin l√≠mites</div>
    </div>
  </div>
  <div className="mt-6 text-sm text-gray-600 dark:text-gray-400">
    ¬øTe sirvi√≥ este tutorial? ‚≠ê Comp√°rtelo en redes sociales
  </div>
</div>

**Palabras clave:** n8n heroku, desplegar n8n, n8n supabase, n8n docker, n8n self hosted, automatizaci√≥n workflows, heroku postgresql, n8n tutorial espa√±ol, n8n cloud alternativa, n8n gratis

</BlogPost>
